# Terraform Plan Analysis Report

## Summary

- **Total Resources**: {{ total_resources }}
- **Resources to Add**: {{ resources_to_add }}
- **Resources to Change**: {{ resources_to_change }}
- **Resources to Destroy**: {{ resources_to_destroy }}

## Resource Changes

{% for resource in resources %}
{# <!-- markdownlint-disable-next-line MD022 --> #}
### {{ resource.resource_type }}.{{ resource.identifier }}

**Action:** {{ resource.action | title }}

{% if resource.replacement and resource.replacement_triggers %}
{# <!-- markdownlint-disable-next-line MD032 --> #}
**Replacement triggered by:** {{ resource.replacement_triggers | join(', ') }}
{% endif %}
{% if resource.changes %}
{# <!-- markdownlint-disable-next-line MD022 --> #}
#### Changes for {{ resource.resource_type }}.{{ resource.identifier }}

{% for change in resource.changes %}
{# <!-- markdownlint-disable MD032 --> #}
{% if resource.action == 'create' %}
- **{{ change.attribute }}**: {{ change.after }}
{% elif resource.action == 'delete' %}
- **{{ change.attribute }}**: {{ change.before }}
{% else %}
{# <!-- TODO: detect if the strings in before and after are long. If so, the arrow between them should be on a new line to help readability --> #}
- **{{ change.attribute }}**: {{ change.before }} ‚üπ {{ change.after }}
{% endif %}
{# <!-- markdownlint-enable MD032 --> #}
{% endfor %}
{% endif %}
{% if show_details %}
{# <!-- markdownlint-disable-next-line MD032 --> #}

#### Details for {{ resource.resource_type }}.{{ resource.identifier }}

- **Provider**: {{ resource.provider }}
- **Module**: {{ resource.module }}
{% if resource.dependencies %}
- **Dependencies**: {{ resource.dependencies|join(', ') }}
{% endif %}
{# end if show_details #}
{% endif %}
{# The next line is blank so an empty line is rendered after Details #}

{% endfor %}

{%- if analysis and analysis|length > 0 -%}
{# <!-- markdownlint-disable-next-line MD022 --> #}
## Analysis

{%- for item in analysis -%}
{# <!-- markdownlint-disable-next-line MD022 --> #}
### {{ item.title }}

{# <!-- markdownlint-disable-line MD003 MD022 --> #}
{{ item.description }}
{% endfor %}
{% endif %}
---
*Generated by [tfsumpy](https://github.com/rafaelherik/tfsumpy) on {{ timestamp }}*
